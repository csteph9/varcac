import{y as v,z as C,K as S,r as R,o as A,N as P,c as h,a as n,w as a,u as o,g as i,e,C as r,F as E,f as k,b as t,R as m,j as w,l as D,t as x}from"./index-DzErGyIl.js";import{C as g}from"./CAlert-D4L7jOoy.js";import{C as u}from"./CCardHeader-CoIivghT.js";import{a as y,C as I}from"./CRow-B9EqYIPJ.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B=v({name:"CListGroup",props:{as:{type:String,default:"ul"},flush:Boolean,layout:{type:String,validator:s=>["horizontal","horizontal-sm","horizontal-md","horizontal-lg","horizontal-xl","horizontal-xxl"].includes(s)}},setup(s,{slots:d}){return()=>C(s.as,{class:["list-group",{"list-group-flush":s.flush,[`list-group-${s.layout}`]:s.layout}]},d.default&&d.default())}}),N=v({name:"CListGroupItem",props:{active:Boolean,as:{type:String,default:"li"},color:S,disabled:Boolean},setup(s,{slots:d}){return()=>C(s.as,{class:["list-group-item",{[`list-group-item-${s.color}`]:s.color,"list-group-item-action":s.as==="a"||s.as==="button",active:s.active,disabled:s.disabled}],...(s.as==="a"||s.as==="button")&&{active:s.active,disabled:s.disabled},...s.active&&{"aria-current":!0},...s.disabled&&{"aria-disabled":!0}},d.default&&d.default())}}),L={class:"px-3 py-4",id:"top"},W={class:"mt-2"},V={class:"mt-3"},G={class:"mt-2"},O={class:"mt-3"},F={class:"mt-2"},q={class:"mt-3"},M={class:"mt-2 d-flex gap-2"},z={class:"mt-3"},H={class:"mt-2"},$={class:"mt-2"},J={__name:"Home",setup(s){const d=[{id:"overview",label:"Overview"},{id:"who",label:"Who is this for?"},{id:"concepts",label:"Key Concepts"},{id:"workflow",label:"End-to-End Workflow"},{id:"engine",label:"What “Run Calculations” Actually Does"},{id:"statements",label:"Generating Statements"},{id:"data-reqs",label:"Data Requirements"},{id:"troubleshooting",label:"Troubleshooting"},{id:"glossary",label:"Glossary"}],b=R("overview");function _(c){const l=document.getElementById(c);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}let f=null;return A(()=>{const c=d.map(l=>document.getElementById(l.id)).filter(Boolean);f=new IntersectionObserver(l=>{l.forEach(p=>{p.isIntersecting&&(b.value=p.target.id)})},{root:null,threshold:.3,rootMargin:"-120px 0px -60% 0px"}),c.forEach(l=>f.observe(l))}),P(()=>{f&&f.disconnect()}),(c,l)=>(w(),h("div",L,[n(o(I),{class:"g-4"},{default:a(()=>[n(o(y),{xs:"12",md:"4",lg:"3"},{default:a(()=>[n(o(i),null,{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[0]||(l[0]=[e("VarCAC Documentation",-1)])),_:1,__:[0]}),n(o(r),null,{default:a(()=>[n(o(B),{flush:""},{default:a(()=>[(w(),h(E,null,k(d,p=>n(o(N),{key:p.id,component:"a",href:`#${p.id}`,action:"",active:b.value===p.id,onClick:D(K=>_(p.id),["prevent"])},{default:a(()=>[e(x(p.label),1)]),_:2},1032,["href","active","onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),n(o(y),{xs:"12",md:"8",lg:"9"},{default:a(()=>[n(o(i),{id:"overview",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[1]||(l[1]=[e("Overview",-1)])),_:1,__:[1]}),n(o(r),null,{default:a(()=>[l[3]||(l[3]=t("p",null,[t("strong",null,"VarCAC"),e(" is an "),t("em",null,"enterprise-grade"),e(" incentive compensation and statement platform. It models compensation plans, attaches them to participants, ingests performance data, calculates payouts, and generates auditable statements for each payee. ")],-1)),n(o(g),{color:"info",class:"mb-0"},{default:a(()=>l[2]||(l[2]=[e(" Standard flow: ",-1),t("strong",null,"Participants",-1),e(" → ",-1),t("strong",null,"Plans",-1),e(" → ",-1),t("strong",null,"Computations",-1),e(" → ",-1),t("strong",null,"Assign to Plans",-1),e(" → ",-1),t("strong",null,"Attach Plans to Participants",-1),e(" → ",-1),t("strong",null,"Load Source Data",-1),e(" → ",-1),t("strong",null,"Run Calculations",-1),e(" → ",-1),t("strong",null,"Generate Statement",-1),e(". ",-1)])),_:1,__:[2]})]),_:1,__:[3]})]),_:1}),n(o(i),{id:"who",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[4]||(l[4]=[e("Who is this for?",-1)])),_:1,__:[4]}),n(o(r),null,{default:a(()=>l[5]||(l[5]=[t("p",null," This guide is for finance, RevOps, and compensation administrators who need to configure and operate compensation plans. No programming is required to use the system day-to-day. ",-1)])),_:1,__:[5]})]),_:1}),n(o(i),{id:"concepts",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[6]||(l[6]=[e("Key Concepts",-1)])),_:1,__:[6]}),n(o(r),null,{default:a(()=>l[7]||(l[7]=[t("ul",null,[t("li",null,[t("strong",null,"Participants"),e(" — the people who are paid (AEs, SDRs, managers). Participants can have a "),t("em",null,"manager"),e("; manager relationships enable automatic roll-ups of team performance. ")]),t("li",null,[t("strong",null,"Plans"),e(" — a plan defines what should be paid and when (e.g., “AE FY25 Plan”). A plan has an effective start/end date and a collection of computations that determine payouts. ")]),t("li",null,[t("strong",null,"Computations"),e(" — reusable business rules (e.g., “10% of New ARR”) that read performance data and output one or more payout lines (amount + label). Some run "),t("em",null,"per payout period"),e(" (monthly/quarterly), others run "),t("em",null,"once across the whole plan window"),e(". ")]),t("li",null,[t("strong",null,"Assignments"),e(" — you attach computations to a plan, then attach plans to participants with effective dates (so the system knows who is eligible when). ")]),t("li",null,[t("strong",null,"Source Data"),e(" — the performance facts used to calculate pay (e.g., “NEW_ARR on 2025-07-01 for participant #101 = 120,000”). Each row has a participant, a label, a date, and a numeric value. ")]),t("li",null,[t("strong",null,"Roll-ups"),e(" — managers automatically see totals from their direct and indirect reports (entire reporting tree). This enables manager plans to pay on team performance without manual prep. ")]),t("li",null,[t("strong",null,"Statements"),e(" — the final, presentable output. Statements use an EJS template you can edit under "),t("em",null,"Settings → Comp Plan Template"),e(". ")])],-1)])),_:1,__:[7]})]),_:1}),n(o(i),{id:"workflow",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[8]||(l[8]=[e("End-to-End Workflow",-1)])),_:1,__:[8]}),n(o(r),null,{default:a(()=>[t("ol",null,[t("li",null,[l[10]||(l[10]=t("strong",null,"Add Participants",-1)),l[11]||(l[11]=e(" (and optional managers). ",-1)),t("div",W,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:"/participants"},{default:a(()=>l[9]||(l[9]=[e("Open Participants",-1)])),_:1,__:[9]})])]),t("li",V,[l[13]||(l[13]=t("strong",null,"Create a Plan",-1)),l[14]||(l[14]=e(" — set the effective dates and (optionally) payout periods (e.g., months/quarters). ",-1)),t("div",G,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:"/plans"},{default:a(()=>l[12]||(l[12]=[e("Open Plans",-1)])),_:1,__:[12]})])]),t("li",O,[l[16]||(l[16]=t("strong",null,"Define Computations",-1)),l[17]||(l[17]=e(" — the business rules (e.g., commission rates, accelerators, SPIFFs). ",-1)),t("div",F,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:"/computations"},{default:a(()=>l[15]||(l[15]=[e("Open Computations",-1)])),_:1,__:[15]})])]),l[26]||(l[26]=t("li",{class:"mt-3"},[t("strong",null,"Attach Computations to the Plan"),e(" — choose whether each runs per period or across the full plan window. ")],-1)),l[27]||(l[27]=t("li",{class:"mt-3"},[t("strong",null,"Attach the Plan to Participants"),e(" — set effective dates for the assignment. ")],-1)),t("li",q,[l[21]||(l[21]=t("strong",null,"Load Source Data",-1)),l[22]||(l[22]=e(" — add performance rows (manually or via CSV/bulk import). ",-1)),t("div",M,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:{name:"SourceDataAdd"}},{default:a(()=>l[18]||(l[18]=[e("Add One",-1)])),_:1,__:[18]}),n(o(m),{class:"btn btn-outline-primary btn-sm",to:{name:"SourceDataBulkLoad"}},{default:a(()=>l[19]||(l[19]=[e("Bulk Load CSV",-1)])),_:1,__:[19]}),n(o(m),{class:"btn btn-outline-secondary btn-sm",to:"/source-data"},{default:a(()=>l[20]||(l[20]=[e("Manage Data",-1)])),_:1,__:[20]})])]),l[28]||(l[28]=t("li",{class:"mt-3"},[t("strong",null,"Run Calculations"),e(" — compute payouts for everyone on the plan (see next section). ")],-1)),t("li",z,[l[24]||(l[24]=t("strong",null,"Generate Statements",-1)),l[25]||(l[25]=e(" — create the participant-facing statements. ",-1)),t("div",H,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:"/comp-plan-template"},{default:a(()=>l[23]||(l[23]=[e("Edit EJS Template",-1)])),_:1,__:[23]})])])])]),_:1})]),_:1}),n(o(i),{id:"engine",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[29]||(l[29]=[e("What “Run Calculations” Actually Does",-1)])),_:1,__:[29]}),n(o(r),null,{default:a(()=>[l[31]||(l[31]=t("p",{class:"mb-2"},[e(" When you click "),t("em",null,"Run Calculations"),e(" for a plan, VarCAC: ")],-1)),l[32]||(l[32]=t("ol",null,[t("li",null,[t("strong",null,"Finds everyone attached to the plan."),e(" If no one is attached, nothing runs.")]),t("li",null,[t("strong",null,"Builds the org roll-up map."),e(" For each manager, the system identifies their direct and indirect reports.")]),t("li",null,[t("strong",null,"Collects the computations"),e(" assigned to the plan.")]),t("li",null,[t("strong",null,"Resets prior results for that plan"),e(" to keep history clean for the re-run (prior plan results are cleared and replaced by the new run).")]),t("li",null,[t("strong",null,"For each participant"),e(" and for each computation: "),t("ul",null,[t("li",null,[t("em",null,"Chooses the right windows"),e(": either each payout period you defined for the plan, or the entire plan window.")]),t("li",null,[t("em",null,"Aggregates performance data"),e(" for that window: "),t("ul",null,[t("li",null,[t("strong",null,"Self totals:"),e(" the participant’s own data.")]),t("li",null,[t("strong",null,"Roll-up totals:"),e(" all data from their reporting tree (for manager plans).")])])]),t("li",null,[t("em",null,"Applies the business rule"),e(" (the computation) to turn those totals into one or more payout lines.")])])]),t("li",null,[t("strong",null,"Writes the results"),e(" to payout history: period dates, line labels, and amounts—plus metadata for auditing.")])],-1)),n(o(g),{color:"warning",class:"mt-3"},{default:a(()=>l[30]||(l[30]=[t("strong",null,"Important:",-1),e(" re-running calculations for a plan ",-1),t("em",null,"replaces",-1),e(" that plan’s prior results. Use ",-1),t("em",null,"DB Admin",-1),e(" to back up before a major change. ",-1)])),_:1,__:[30]}),l[33]||(l[33]=t("div",{class:"small text-body-secondary mt-3"},[e(" Admin note: The above behavior is implemented by the Run Computations API ("),t("em",null,"POST /api/plans/:id/run-computations"),e("). For governance and audit teams, this endpoint ensures calculations are deterministic and repeatable for a given plan, participants, and set of source data. :contentReference[oaicite:1]{index=1} ")],-1))]),_:1,__:[31,32,33]})]),_:1}),n(o(i),{id:"statements",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[34]||(l[34]=[e("Generating Statements",-1)])),_:1,__:[34]}),n(o(r),null,{default:a(()=>[l[36]||(l[36]=t("p",null,[e(" Statements are rendered as HTML using the configurable template. The template controls wording, tables, and formatting. Teams can edit it under "),t("em",null,"Settings → Comp Plan Template"),e(" without changing any code. ")],-1)),l[37]||(l[37]=t("ul",null,[t("li",null," Statements include: participant details, each plan included, the periods under assigned plans, line items from each computation, per-period totals, and plan totals. "),t("li",null," Managers’ statements will show lines derived from their teams when applicable (roll-up), including any direct data that impacts their computations. ")],-1)),t("div",$,[n(o(m),{class:"btn btn-outline-primary btn-sm",to:"/comp-plan-template"},{default:a(()=>l[35]||(l[35]=[e("Edit EJS Template",-1)])),_:1,__:[35]})])]),_:1,__:[36,37]})]),_:1}),n(o(i),{id:"data-reqs",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[38]||(l[38]=[e("Data Requirements",-1)])),_:1,__:[38]}),n(o(r),null,{default:a(()=>[l[40]||(l[40]=t("p",{class:"mb-2"},[e("Each "),t("strong",null,"Source Data"),e(" row should include:")],-1)),l[41]||(l[41]=t("ul",null,[t("li",null,[t("strong",null,"Participant ID"),e(" — whose activity this is.")]),t("li",null,[t("strong",null,"Label"),e(" — the type of activity (e.g., NEW_ARR, RETENTION). Labels are case-insensitive.")]),t("li",null,[t("strong",null,"Date"),e(" — the activity date. It must fall within the plan’s window or the target period.")]),t("li",null,[t("strong",null,"Value"),e(" — a number (e.g., 120000). Values are summed by label in the calculation window.")]),t("li",null,[t("strong",null,"Description"),e(" — optional free text for context (shows up on comp statements). Include here deal names, or CRM account IDs, etc.")])],-1)),n(o(g),{color:"secondary",class:"mt-3"},{default:a(()=>l[39]||(l[39]=[e(" Tip: Ensure labels in your computations match the labels you load in Source Data. A mismatch (“New_ARR” vs “NEW_ARR”) can cause a line to pay $0. ",-1)])),_:1,__:[39]})]),_:1,__:[40,41]})]),_:1}),n(o(i),{id:"troubleshooting",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[42]||(l[42]=[e("Troubleshooting",-1)])),_:1,__:[42]}),n(o(r),null,{default:a(()=>l[43]||(l[43]=[t("ul",{class:"mb-3"},[t("li",null,[t("strong",null,"No results after running?"),e(" Confirm participants are attached to the plan and computations are attached to that plan.")]),t("li",null,[t("strong",null,"Totals look too low?"),e(" Check that the Source Data dates fall within the plan window or period.")]),t("li",null,[t("strong",null,"Manager plan shows no team data?"),e(" Ensure the manager is set correctly and direct reports are linked (the system rolls up the full reporting tree).")]),t("li",null,[t("strong",null,"Statement looks off?"),e(" Review the EJS template in Settings; it controls formatting and which fields are shown.")]),t("li",null,[t("strong",null,"Need to revert?"),e(" Use "),t("em",null,"DB Admin"),e(" to restore a backup, then re-run calculations.")])],-1),t("div",{class:"d-flex"},[t("a",{class:"btn btn-link p-0",href:"#top"},"Back to top ↑")],-1)])),_:1,__:[43]})]),_:1}),n(o(i),{id:"glossary",class:"doc-section"},{default:a(()=>[n(o(u),{class:"fw-semibold"},{default:a(()=>l[44]||(l[44]=[e("Glossary",-1)])),_:1,__:[44]}),n(o(r),null,{default:a(()=>l[45]||(l[45]=[t("ul",null,[t("li",null,[t("strong",null,"Plan Window"),e(" — the overall start/end dates for a plan.")]),t("li",null,[t("strong",null,"Payout Period"),e(" — a sub-window (e.g., month/quarter) inside the plan window.")]),t("li",null,[t("strong",null,"Computation"),e(" — a business rule that turns performance data into payout lines. Computations can be set to run on a Plan's payout period, or against the entire plan window.")]),t("li",null,[t("strong",null,"Roll-up"),e(" — team totals included in a manager’s calculations, covering direct and indirect reports. If a participant is an individual contributor, only their source data is included.")]),t("li",null,[t("strong",null,"Payout History"),e(" — the record of each line item produced based on plans and computations assigned.")]),t("li",null,[t("strong",null,"Statement"),e(" — a participant-facing summary of what should be paid, and why.")])],-1)])),_:1,__:[45]})]),_:1})]),_:1})]),_:1})]))}},Z=T(J,[["__scopeId","data-v-fdb1df52"]]);export{Z as default};
