import{y as c,r as f,w,z as n,H as k,I as M,J as D,K as S,L as x,M as N,N as A,O as F}from"./index-DPzvZzfM.js";const g=e=>{typeof e=="function"&&e()},p=(e,t,o=!0)=>{if(!o){g(e);return}const u=O(t)+5;let s=!1;const d=({target:i})=>{i===t&&(s=!0,t.removeEventListener("transitionend",d),g(e))};t.addEventListener("transitionend",d),setTimeout(()=>{s||z(t)},u)},O=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:o}=window.getComputedStyle(e);const r=Number.parseFloat(t),u=Number.parseFloat(o);return!r&&!u?0:(t=t.split(",")[0],o=o.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(o))*1e3)},z=e=>{e.dispatchEvent(new Event("transitionend"))},h=e=>e?typeof e=="function"?e():e:"body",P=c({name:"CConditionalTeleport",props:{container:{type:[Object,String],default:"body"},teleport:{type:[Boolean],default:!0}},setup(e,{slots:t}){const o=f(h(e.container));return w(()=>[e.container,e.teleport],()=>{e.teleport&&(o.value=h(e.container))}),()=>n(k,{disabled:e.teleport===!1,to:o.value},{default:()=>t.default&&t.default()})}}),j=c({name:"CModal",inheritAttrs:!1,props:{alignment:{default:"top",validator:e=>["top","center"].includes(e)},backdrop:{type:[Boolean,String],default:!0,validator:e=>typeof e=="string"?["static"].includes(e):typeof e=="boolean"},container:{type:[Object,String],default:"body"},contentClassName:String,focus:{type:Boolean,default:!0},fullscreen:{type:[Boolean,String],validator:e=>typeof e=="string"?["sm","md","lg","xl","xxl"].includes(e):typeof e=="boolean"},keyboard:{type:Boolean,default:!0},scrollable:Boolean,size:{type:String,validator:e=>["sm","lg","xl"].includes(e)},teleport:{type:Boolean,default:!1},transition:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},visible:Boolean},emits:["close","close-prevented","show"],setup(e,{slots:t,attrs:o,emit:r}){const u=f(),s=f(),d=f(),i=f(e.visible);w(()=>e.visible,()=>{i.value=e.visible});const C=(a,l)=>{u.value=document.activeElement,p(()=>l(),a),document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="0px",a.style.display="block",setTimeout(()=>{a.classList.add("show")},1),r("show")},L=()=>{var a;e.focus&&((a=s.value)==null||a.focus()),window.addEventListener("mousedown",y),window.addEventListener("keyup",v)},B=(a,l)=>{p(()=>l(),a),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"),document.body.className===""&&document.body.removeAttribute("class"),a.classList.remove("show")},T=a=>{var l;(l=u.value)==null||l.focus(),window.removeEventListener("mousedown",y),window.removeEventListener("keyup",v),a.style.display="none"},m=()=>{r("close"),i.value=!1},v=a=>{d.value&&!d.value.contains(a.target)&&(e.backdrop!=="static"&&a.key==="Escape"&&e.keyboard&&m(),e.backdrop==="static"&&(s.value.classList.add("modal-static"),r("close-prevented"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))},y=a=>{window.addEventListener("mouseup",()=>E(a),{once:!0})},E=a=>{d.value&&!d.value.contains(a.target)&&(e.backdrop!=="static"&&m(),e.backdrop==="static"&&(s.value.classList.add("modal-static"),setTimeout(()=>{s.value.classList.remove("modal-static")},300)))};N("handleDismiss",m);const b=()=>n("div",{...o,class:["modal",{fade:e.transition},o.class],...i.value?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},ref:s},n("div",{class:["modal-dialog",{"modal-dialog-centered":e.alignment==="center",[`modal-fullscreen-${e.fullscreen}-down`]:e.fullscreen&&typeof e.fullscreen=="string","modal-fullscreen":e.fullscreen&&typeof e.fullscreen=="boolean","modal-dialog-scrollable":e.scrollable,[`modal-${e.size}`]:e.size}]},n("div",{class:["modal-content",e.contentClassName],ref:d},t.default&&t.default())));return()=>n(P,{container:e.container,teleport:e.teleport},{default:()=>[n(M,{css:!1,onEnter:(a,l)=>C(a,l),onAfterEnter:()=>L(),onLeave:(a,l)=>B(a,l),onAfterLeave:a=>T(a)},()=>e.unmountOnClose?i.value&&b():D(b(),[[S,i.value]])),e.backdrop&&n(x,{class:"modal-backdrop",visible:i.value})]})}}),H=c({name:"CModalBody",setup(e,{slots:t}){return()=>n("div",{class:"modal-body"},t.default&&t.default())}}),K=c({name:"CModalFooter",setup(e,{slots:t}){return()=>n("div",{class:"modal-footer"},t.default&&t.default())}}),U=c({name:"CModalHeader",props:{closeButton:{type:Boolean,default:!0}},setup(e,{slots:t}){const o=A("handleDismiss");return()=>n("span",{class:"modal-header"},[t.default&&t.default(),e.closeButton&&n(F,{onClick:()=>o()},"")])}}),_=c({name:"CModalTitle",props:{as:{type:String,default:"h5"}},setup(e,{slots:t}){return()=>n(e.as,{class:"modal-title"},t.default&&t.default())}});export{U as C,_ as a,H as b,K as c,j as d};
