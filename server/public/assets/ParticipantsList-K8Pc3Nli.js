import{r as c,o as g,v as k,c as d,a,w as t,u as e,b as v,t as r,C as N,d as x,e as o,F as B,f as D,g as T,h as V,i as L,j as u,k as I}from"./index-DzErGyIl.js";import{C as S}from"./CCardHeader-CoIivghT.js";import{C as h}from"./CFormInput-BjPW06T8.js";import{C as F,a as H}from"./CRow-B9EqYIPJ.js";import{C as P}from"./CSpinner-CEMCRNhs.js";import{C as R,a as j,b as y,c as m,d as E,e as f}from"./CTable-BIXfBerb.js";const q={class:"p-3"},A={class:"text-muted"},M={key:0,class:"py-3"},U={key:1},$={key:0,class:"text-muted"},Z={__name:"ParticipantsList",setup(z){const b=L(),_=c(!0),i=c([]),C=c("");g(async()=>{_.value=!0;try{const{data:n}=await V.get("/api/participants",{withCredentials:!0});i.value=n||[]}finally{_.value=!1}});const p=k(()=>{const n=C.value.trim().toLowerCase();return n?i.value.filter(l=>[l.firstName,l.lastName,l.email,l.employeeId].filter(Boolean).some(s=>s.toLowerCase().includes(n))):i.value}),w=n=>b.push({name:"ParticipantDetail",params:{id:n}});return(n,l)=>(u(),d("div",q,[a(e(T),null,{default:t(()=>[a(e(S),{class:"fw-semibold d-flex align-items-center justify-content-between"},{default:t(()=>[l[1]||(l[1]=v("span",null,"Participants",-1)),v("small",A,"("+r(i.value.length)+")",1)]),_:1,__:[1]}),a(e(N),null,{default:t(()=>[a(e(F),{class:"g-3 mb-3"},{default:t(()=>[a(e(H),{md:"6"},{default:t(()=>[a(e(h),{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=s=>C.value=s),placeholder:"Search by name, email, or employee ID..."},null,8,["modelValue"])]),_:1})]),_:1}),_.value?(u(),d("div",M,[a(e(P))])):(u(),d("div",U,[a(e(R),{hover:"",responsive:""},{default:t(()=>[a(e(j),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(m),null,{default:t(()=>l[2]||(l[2]=[o("Name",-1)])),_:1,__:[2]}),a(e(m),null,{default:t(()=>l[3]||(l[3]=[o("Email",-1)])),_:1,__:[3]}),a(e(m),null,{default:t(()=>l[4]||(l[4]=[o("ID",-1)])),_:1,__:[4]}),a(e(m),null,{default:t(()=>l[5]||(l[5]=[o("Created",-1)])),_:1,__:[5]})]),_:1})]),_:1}),a(e(E),null,{default:t(()=>[(u(!0),d(B,null,D(p.value,s=>(u(),I(e(y),{key:s.id,role:"button",onClick:J=>w(s.id)},{default:t(()=>[a(e(f),null,{default:t(()=>[o(r(s.firstName)+" "+r(s.lastName),1)]),_:2},1024),a(e(f),null,{default:t(()=>[o(r(s.email),1)]),_:2},1024),a(e(f),null,{default:t(()=>[o(r(s.id),1)]),_:2},1024),a(e(f),null,{default:t(()=>[o(r(new Date(s.createdAt).toLocaleString()),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),p.value.length===0?(u(),d("div",$,"No participants found.")):x("",!0)]))]),_:1})]),_:1})]))}};export{Z as default};
